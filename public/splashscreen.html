<!DOCTYPE html>
<html lang="">

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <link rel="icon" href="<%= BASE_URL %>favicon.ico" />
  <title>Flux</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@junto-foundation/junto-elements@0.0.9/dist/main.css" />
  <script src="https://cdn.jsdelivr.net/npm/@junto-foundation/junto-elements@0.0.9"></script>
</head>
<style>
  body {
    padding: 0;
    margin: 0;
  }

  .main {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    height: 100vh;
    width: 100vw;
  }

  .error {
    padding: 40px 80px;
    visibility: collapse;
    opacity: 0;
    transition: visibility 0s, opacity 0.5s linear, height 1s;
    height: 0;
  }
</style>

<body>
  <div class="main">
    <j-text nomargin variant="heading-lg" size="1000" style="--j-text-font-size:var(--j-font-size-1000);" tag="h1"
      uppercase="">
      Admin UI
    </j-text>
    <div class="error">
      <j-flex a="center" direction="column" gap="900">
        <j-text nomargin variant="heading-lg">Whoops, something broke! ðŸ˜…</j-text>
        <j-text nomargin variant="subheading">
          If you have also been asked to include a log file with your report,
          click the button below to copy a log file to your desktop:
        </j-text>
        <j-button onclick="copyFile()" variant="primary">Copy</j-button>
      </j-flex>
    </div>
  </div>
</body>
<script type="module">
  import { appWindow } from "https://unpkg.com/@tauri-apps/api@1.0.0-rc.5/window.js";

  setTimeout(() => {
    const error = document.getElementsByClassName('error');
    error[0].style.display = 'block'
    error[0].style.visibility = 'visible'
    error[0].style.opacity = 1
    error[0].style.height = '160px'
  }, 10000);

  function copyFile() {
    const button = document.getElementsByTagName('j-button');

    appWindow.emit('copyLogs')

    setTimeout(() => {
      button[0].innerHTML = 'Copied'

      setTimeout(() => {
        button[0].innerHTML = 'Copy'
      }, 2000);
    }, 500);
  }

  window.copyFile = copyFile;
</script>

</html>